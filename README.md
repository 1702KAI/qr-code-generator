### **Updated README.md**

# QR Code Video Generator

This project automates the generation of QR codes for video links stored in a Google Drive folder. It includes two main scripts:

1. `generate_qr_code_from_drive.py`: Downloads video links from Google Drive, generates QR codes, saves them as PNG files, and tracks progress in a CSV file.
2. `add_qr_code_to_pdf.py`: Arranges the QR codes generated in the first script into an A4-sized PDF layout with captions.

Both scripts support resuming from where they left off in case of an interruption.

---

## Prerequisites

1. **Python**:
   - Ensure Python 3.7 or higher is installed.

2. **Dependencies**:
   - Install the required Python packages using pip:
     ```bash
     pip install qrcode[pil] google-api-python-client google-auth-oauthlib tqdm reportlab
     ```

3. **Google Cloud Project**:
   - Set up a Google Cloud project to enable the Google Drive API. [Learn more](https://developers.google.com/drive).

---

## Setting Up the Secrets

1. **Google Drive Folder ID**:
   - Locate the folder in your Google Drive.
   - Copy the folder ID from the URL (e.g., `https://drive.google.com/drive/folders/<FOLDER_ID>`).

2. **OAuth2 Credentials File (`client_secret.json`)**:
   - Create OAuth 2.0 credentials in the [Google Cloud Console](https://console.cloud.google.com/):
     - Navigate to `APIs & Services > Credentials`.
     - Select `Create Credentials > OAuth client ID`.
     - Configure the consent screen and download the JSON file.
   - Save the file in the project directory as `client_secret.json`.

3. **Update Constants**:
   - Open the scripts and replace the placeholders:
     - Replace `FOLDER_ID` with your actual Google Drive folder ID.
     - Ensure the `client_secret.json` file is in the same directory.

---

## Scripts Overview

### 1. `generate_qr_code_from_drive.py`

#### What It Does:
- Connects to Google Drive and fetches video file links from the specified folder.
- Generates QR codes for each video link and saves them as PNG files.
- Tracks processed videos in a CSV file for easy reference.
- Supports resuming from where it left off if interrupted.

#### Usage:

1. **Starting Fresh**:
   ```bash
   python generate_qr_code_from_drive.py
   ```
   This will delete previous outputs (CSV, temporary files, QR codes) and start fresh.

2. **Resuming Progress**:
   ```bash
   python generate_qr_code_from_drive.py resume
   ```
   This will resume processing from where the script was stopped or interrupted.

#### Outputs:
1. **QR Codes**:
   - PNG files for each video link saved in the `qr_codes` directory.
2. **CSV File**:
   - `drive_video_links.csv`: Contains the video title, Google Drive link, and QR code path.
3. **Temporary File**:
   - `temp_drive_video_links.csv`: Tracks progress for resuming later.

---

### 2. `generate_qr_code_sheet.py`

#### What It Does:
- Reads the QR codes and data generated by `generate_qr_code_from_drive.py`.
- Arranges the QR codes into a visually appealing A4-sized PDF layout.
- Adds captions beneath each QR code with customizations for layout and appearance.

#### Usage:

1. Run the script after `generate_qr_code_from_drive.py` has completed:
   ```bash
   python generate_qr_code_sheet.py
   ```

#### Outputs:
1. **PDF File**:
   - `qr_code_sheet.pdf`: Contains all QR codes arranged in an A4-sized layout.

---

## Customization

### Constants
1. **`FOLDER_ID`**:
   - Google Drive folder containing the video files. Replace with your folder ID in the script.
2. **`QR_CODE_FOLDER`**:
   - Directory where QR codes are saved (`qr_codes` by default).
3. **`CUSTOM_COLOR`**:
   - Hex color code for the PDF layout background (default: `#0F225D`).

### PDF Layout
- Modify dimensions in `create_pdf_with_qr_codes`:
  - `cell_width` and `cell_height`: Control the size of each cell.
  - `qr_size`: Adjust the size of the QR code within each cell.
  - Captions can be customized by editing the text format in the function.

---

## Example Outputs

### **CSV File (`drive_video_links.csv`)**
```csv
Video Title,Google Drive Link,QR Path
example_video_1,https://drive.google.com/file/d/1a2b3c4d5e/view,qr_codes/example_video_1.png
example_video_2,https://drive.google.com/file/d/6f7g8h9i0j/view,qr_codes/example_video_2.png
```

---

### **PDF File (`qr_code_sheet.pdf`)**

The PDF arranges QR codes into rows and columns with captions below each.

#### **Sample Layout**
| QR Code              | Caption            |
|-----------------------|--------------------|
| ![QR Code](https://via.placeholder.com/150) | **Hey example_video_1, Scan me :)** |
| ![QR Code](https://via.placeholder.com/150) | **Hey example_video_2, Scan me :)** |

---

## Features

1. **Progress Tracking**:
   - Tracks progress and supports resuming if interrupted.

2. **PDF Layout**:
   - Generates an A4-sized PDF with customizable layouts.

3. **Crash Recovery**:
   - Saves progress incrementally in a temporary file.

4. **Ease of Use**:
   - Use separate scripts for QR code generation and layout creation.

---

## Troubleshooting

1. **Missing `client_secret.json`**:
   - Ensure the file is placed in the same directory as the script.

2. **Invalid Google Drive Folder ID**:
   - Verify the folder ID matches the one in your Google Drive.

3. **Dependency Errors**:
   - Reinstall dependencies using:
     ```bash
     pip install --force-reinstall qrcode[pil] google-api-python-client google-auth-oauthlib tqdm reportlab
     ```
4. **App Is Not Verified Error**:
    - Go to the consent screen in google console and then publish the app.

---

## Contributing

Feel free to contribute by opening issues or submitting pull requests for improvements or bug fixes.

---

## License

This project is licensed under the MIT License.